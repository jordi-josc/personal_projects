<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<record id="category_private_contacts" model="ir.module.category">
		<field name="name">Private Contacts</field>
		<field name="description">Category for private contact access rules</field>
	</record>
	<record id="group_private_contacts_user" model="res.groups">
		<field name="name">Private Contacts User</field>
		<field name="category_id" ref="category_private_contacts" />
	</record>
	<record id="rule_private_contacts_visibility" model="ir.rule">
		<field name="name">Restrict Contacts to Owner</field>
		<field name="model_id" ref="base.model_res_partner"/>
		<field name="groups" eval="[(4, ref('group_private_contacts_user'))]" />
		<field name="domain_force">['|', ('id', '=', user.partner_id.id),('user_id', '=', user.id)]</field>
		<!-- There is a variant that sees also the users that doesn't have a salesperson active -->
		<!-- Change the domain ('user_id', '=', user.id) for ('user_id', 'in', [user.id, False]) -->
	</record>
</odoo>
